<!DOCTYPE html>
<html>
<head>
    <title>Report View</title>
    <script>
        async function fetchReport() {
            const bankFilter = document.getElementById("bankFilter").value;
            const filialFilter = document.getElementById("filialFilter").value;
            const response = await fetch(`/report/view?bankFilter=${bankFilter}&filialFilter=${filialFilter}`);
            const data = await response.json();

            const tableBody = document.getElementById("reportTableBody");
            tableBody.innerHTML = "";

            data.forEach(report => {
                const row = document.createElement("tr");

                Object.values(report).forEach(value => {
                    const cell = document.createElement("td");
                    cell.textContent = value;
                    row.appendChild(cell);
                });

                tableBody.appendChild(row);
            });
        }
    </script>
</head>
<body>
<h1>Report View</h1>
<label for="bankFilter">Bank Filter: </label>
<input type="text" id="bankFilter" name="bankFilter">
<label for="filialFilter">Filial Filter: </label>
<input type="text" id="filialFilter" name="filialFilter">
<button onclick="fetchReport()">Fetch Report</button>

<table border="1">
    <thead>
    <tr>
        <th>Банк</th>
        <th>Филиал</th>
        <th>Приход</th>
        <th>Расход</th>
        <th>Сумма оборота</th>
        <th>Все ИП</th>
        <th>Успешно</th>
        <th>Отклонено</th>
        <th>В обработке</th>
        <th>ГНС</th>
    </tr>
    </thead>
    <tbody id="reportTableBody">
    <!-- Report data will be inserted here -->
    </tbody>
</table>
</body>
</html>
